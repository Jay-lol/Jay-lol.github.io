---
layout: post
title: ÌÜµÎÇòÎ¨¥ ÏòÆÍ∏∞Í∏∞
date: '2020-09-20 13:30:00 +0900'
description: null
img: bglogo.png
tags:
  - Algorithm
---

# [Î∞±Ï§Ä] ÌÜµÎÇòÎ¨¥ ÏòÆÍ∏∞Í∏∞ -KotlinÌíÄÏù¥

<a href="https://www.acmicpc.net/problem/1938" target="_blank">https://www.acmicpc.net/problem/1938</a>

## ÌÜµÎÇòÎ¨¥ ÏòÆÍ∏∞Í∏∞

### Î¨∏Ï†ú ÏÑ§Î™Ö
![01]({{site.baseurl}}/assets/img/100301.PNG)
![02]({{site.baseurl}}/assets/img/100302.PNG)
![03]({{site.baseurl}}/assets/img/100303.PNG)


### ÏûÖÎ†•
Ï≤´Ïß∏ Ï§ÑÏóê Ï£ºÏñ¥ÏßÑ ÌèâÏßÄÏùò Ìïú Î≥ÄÏùò Í∏∏Ïù¥ NÏù¥ Ï£ºÏñ¥ÏßÑÎã§ (4<=N<=50).  
Ïù¥Ïñ¥ÏÑú Í∑∏ ÏßÄÌòïÏùò Ï†ïÎ≥¥Í∞Ä 0, 1, B, EÎ°ú Ïù¥Î£®Ïñ¥ÏßÑ Î¨∏ÏûêÏó¥Î°ú Ï£ºÏñ¥ÏßÑÎã§.  
Ìïú Ï§ÑÏóê ÏûÖÎ†•ÎêòÎäî Î¨∏ÏûêÏó¥Ïùò Í∏∏Ïù¥Îäî NÏù¥Î©∞ ÏûÖÎ†• Î¨∏Ïûê ÏÇ¨Ïù¥ÏóêÎäî ÎπàÏπ∏Ïù¥ ÏóÜÎã§. ÌÜµÎÇòÎ¨¥ÏôÄ ÏµúÏ¢Ö ÏúÑÏπòÏùò Í∞úÏàòÎäî 1Í∞úÏù¥Îã§.

### Ï∂úÎ†•

Ï≤´Ïß∏ Ï§ÑÏóê ÏµúÏÜå ÎèôÏûë ÌöüÏàòÎ•º Ï∂úÎ†•ÌïúÎã§. Ïù¥ÎèôÏù¥ Î∂àÍ∞ÄÎä•ÌïòÎ©¥ 0ÎßåÏùÑ Ï∂úÎ†•ÌïúÎã§.

### ÏûÖÏ∂úÎ†•Ïòà  
![04]({{site.baseurl}}/assets/img/100304.PNG)
![05]({{site.baseurl}}/assets/img/100305.PNG)

### ÌíÄÏù¥
Í≥®Îìú3 ÎÇúÏù¥ÎèÑÎ•º Í∞ÄÏßÑ Î¨∏Ï†úÎ°ú BFS, ÏãúÎÆ¨Î†àÏù¥ÏÖò Î¨∏Ï†úÎã§.  
BFSÌÉêÏÉâ Î¨∏Ï†úÎ•º ÌíÄ Îïå Ï§ëÏöîÌïú Í≤ÉÏù¥ Ïñ¥Îñ§ Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏßÄÍ≥† ÌÉêÏÉâÌï† Í≤ÉÏù∏Í∞Ä Ïù¥Îã§.  
ÌÜµÎÇòÎ¨¥Ïùò Í∏∏Ïù¥Í∞Ä 3Ïù¥ÎùºÏÑú 3Í∞úÏùò Ï¢åÌëúÎ•º Í∞ÄÏßÄÍ≥† ÌÉêÏÉâÌï† Ïàò ÎèÑ ÏûàÎäîÎç∞, ÎÇòÎäî Í∑∏ Ï§ëÏóê Ï§ëÏã¨Ï†ê Ï¢åÌëúÎßå Í∞ÄÏßÄÍ≥† ÌÉêÏÉâÌñàÎã§.  
Îòê Ïù¥ Î¨∏Ï†úÏóêÏÑúÎäî Í∞ÄÎ°ú,ÏÑ∏Î°úÎ°ú ÎèåÎ¶¨Îäî Í≤ΩÏö∞ÎèÑ ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê Í∞ÄÎ°úÏù∏ÏßÄ ÏÑ∏Î°úÏù∏ÏßÄ Í∑∏ ÏÉÅÌÉúÎ•º Ï†ÄÏû•ÎèÑ Ìï¥Ï£ºÏñ¥Ïïº ÌïúÎã§.  
Í∑∏Î¶¨Í≥† ÏÑ∏Î°úÎ°ú ÌäπÏ†ïÏ¢åÌëúÎ•º Î∞©Î¨∏ÌñàÏñ¥ÎèÑ, Í∞ÄÎ°úÎ°úÎèÑ ÌïúÎ≤à Îçî Î∞©Î¨∏Ìï† Ïàò ÏûàÍ≤å Ï≤òÎ¶¨Î•º Ìï¥Ï§òÏïºÌïúÎã§.  
ÎÇòÎäî visitedÎ∞∞Ïó¥Ïóê 0,1,2,3 Ïùò Ïà´ÏûêÎ•º ÏÇ¨Ïö©ÌïòÏó¨ Ïù¥Î•º Ï≤òÎ¶¨ÌñàÎã§.  
Í∑∏ÎûòÏÑú Position Îç∞Ïù¥ÌÑ∞ ÌÅ¥ÎûòÏä§Î•º ÎßåÎì§Ïñ¥ Ï§ëÏã¨Ï†êÏùò Ï¢åÌëú, Î™áÎ≤à Ïù¥Îèô ÌñàÎäîÏßÄ, Í∑∏Î¶¨Í≥† Í∞ÄÎ°úÏù∏ÏßÄ ÏÑ∏Î°úÏù∏ÏßÄÎ•º 1,2Î°ú ÌëúÌòÑÌïòÍ≥† ÌÅêÏóê Îã¥ÏïÑ ÌÉêÏÉâÌñàÎã§.
  
  
ÎÇòÏùò ÏΩîÎìúÎäî Îã§ÏùåÍ≥º Í∞ôÏùÄ ÌùêÎ¶ÑÏùÑ Í∞ÄÏßÑÎã§.

1. ÏûÖÎ†•ÏùÑ Î∞õÏúºÎ©¥ÏÑú ÌÜµÎÇòÎ¨¥Ïùò ÏúÑÏπòÏôÄ ÎèÑÏ∞©ÏßÄÏ†êÏùò ÏúÑÏπòÎ•º ÌååÏïÖÌïòÍ≥† Í∞ÄÎ°úÏù∏ÏßÄ ÏÑ∏Î°úÏù∏ÏßÄÎ•º ÌååÏïÖÌï¥Ï§ÄÎã§.  
 (xÍ∞íÏù¥ Í∞ôÏúºÎ©¥ Í∞ÄÎ°úÎùºÍ≥† ÌåêÎã®ÌñàÎã§) 
 
2. ÌÅ¨Í≤å Í∞ÄÎ°úÏôÄ ÏÑ∏Î°úÎ°ú ÎÇòÎàÑÍ≥† ÏÉÅÌïòÏ¢åÏö∞ 4Î≤àÏùò Ïù¥ÎèôÏù¥ Í∞ÄÎä•ÌïúÏßÄ Î≥¥Í≥† Ïù¥ÎèôÏãúÌÇ®Îã§.  
 Í∞ÑÎã®ÌïòÍ≤å ÌïòÎäîÎ≤ïÏùÄ ÏóÜÍ≥† ÏùºÏùºÏù¥ Îã§ ÏΩîÎìúÎ•º ÏßúÏïºÌïòÎäî Í≤É Í∞ôÎã§.  

3. Í∞ÄÎ°úÏùº Í≤ΩÏö∞ YÏ¢åÌëúÍ∞Ä, ÏÑ∏Î°úÏùº Í≤ΩÏö∞ XÏ¢åÌëúÍ∞Ä 1 Í≥º n-2 ÏÇ¨Ïù¥Ïóê ÏûàÏñ¥ÏïºÌïúÎã§.  
    Í∞ÄÎ°ú ÏÉÅÌÉúÏùº Í≤ΩÏö∞ YÏ¢åÌëú(Ï§ëÏã¨Ï†êÏùò Ï¢åÌëú)Í∞Ä 0Ïù¥Î©¥ Ï§ëÏã¨Ï†êÏúºÎ°ú Î∂ÄÌÑ∞ ÏôºÏ™ΩÏóê ÏûàÎäî Ï¢åÌëúÎäî -1Ïù¥ ÎêòÎ≤ÑÎ¶¨Í∏∞ ÎïåÎ¨∏Ïù¥Îã§.  

4. Ïù¥ÎèôÌïòÎ†§Îäî Í≥≥Ïóê 1Ïù¥ ÏóÜÏñ¥ÏïºÌïúÎã§. Ïù¥ Îïå ÏÉÅÌïò,  Ï¢åÏö∞Î•º ÎÇòÎà†ÏÑú Ï≤òÎ¶¨Ìï¥ÏïºÌïúÎã§.  
  Í∞ÄÎ°ú ÏÉÅÌÉúÏùº Í≤ΩÏö∞ ÏúÑÎ°ú Ïù¥ÎèôÌï† ÎïåÎäî Ï¢åÌëú 3Í∞úÎ•º Î¥êÏïºÌïòÍ≥†, Ï¢åÎ°ú Ïù¥ÎèôÌïòÎ©¥ Ï¢åÌëú 1Í∞úÎ•º Î¥êÏïºÌïòÍ∏∞ ÎïåÎ¨∏Ïù¥Îã§.  
  
5. Ïù¥ÎèôÌïòÎ†§Îäî ÏßÄÏ†êÏùÑ Í∞ôÏùÄ ÏÉÅÌÉúÎ°ú ÌÉêÏÉâ ÌïòÏßÄ ÏïäÏïòÏñ¥Ïïº ÌïúÎã§(Í∞ÄÎ°ú, ÏÑ∏Î°ú).  
  0Ïù¥Î©¥ Î∞©Î¨∏ÏùÑ ÏïàÌïú ÏÉÅÌÉúÎùº Í∞ÄÎ°ú,ÏÑ∏Î°ú Îã§ ÌÉêÏÉâ Í∞ÄÎä•ÌïòÎã§.  
  1Ïù¥Î©¥ Í∞ÄÎ°úÎ°ú ÌÉêÏÉâÌñàÎã§Îäî ÎúªÏúºÎ°ú ÏÑ∏Î°úÎ°ú ÌÉêÏÉâ Í∞ÄÎä•ÌïòÎã§.  
  2Ïù¥Î©¥ ÏÑ∏Î°úÎ°ú ÌÉêÏÉâÌñàÎã§Îäî ÎúªÏúºÎ°ú Í∞ÄÎ°úÎ°ú ÌÉêÏÉâ Í∞ÄÎä•ÌïòÎã§.    
  3Ïù¥Î©¥ Í∞ÄÎ°ú,ÏÑ∏Î°úÎ°ú Îã§ ÌÉêÏÉâÌñàÍ∏∞ ÎïåÎ¨∏Ïóê Îçî Ïù¥ÏÉÅ ÌÉêÏÉâÏùÑ ÏïàÌï¥ÎèÑ ÎêúÎã§.

6. ÌÉêÏÉâÏù¥ Í∞ÄÎä•ÌïòÎã§Î©¥ Ìï¥Îãπ ÏßÄÏ†êÏùÑ ÌÉêÏÉâÌñàÎã§Í≥† Ï≤òÎ¶¨ÌïòÍ≥† ÌÅêÏóê ÎÑ£ÎäîÎã§.  
  0Ïù¥Î©¥ 1 ÎòêÎäî 2Î°ú, 1 ÎòêÎäî 2Î©¥ 3ÏúºÎ°ú Î∞îÍæ∏Ïñ¥Ï§ÄÎã§.

7. turnCheck Ìï®ÏàòÎ•º ÌÜµÌï¥ ÌöåÏ†ÑÏù¥ Í∞ÄÎä•ÌïúÏßÄ Ï≤¥ÌÅ¨Ìï¥Ï§ÄÎã§( Ï§ëÏã¨Ï†ê Í∏∞Ï§ÄÏúºÎ°ú 3X3ÏòÅÏó≠Ïóê 1Ïù¥ ÏóÜÎäîÏßÄ).  
    Î≤îÏúÑ Ï≤¥ÌÅ¨ÏôÄ ÌÉêÏÉâ Ïó¨Î∂ÄÎ•º ÌôïÏù∏Ìï¥Ï£ºÍ≥† ÌÉêÏÉâÏù¥ Í∞ÄÎä•ÌïòÎã§Î©¥ ÌÅêÏóê ÎÑ£ÎäîÎã§. 

8. ÌÅêÏóê ÎÑ£ÏùÑÎïå Î™©ÌëúÏßÄÏ†êÏù∏ goalÍ≥º Ï§ëÏã¨Ï†êÏ¢åÌëúÏôÄ Í∞ÄÎ°ú,ÏÑ∏Î°úÏùò ÏÉÅÌÉúÍ∞Ä Í∞ôÏúºÎ©¥ Ï∂úÎ†•ÌïòÍ≥† return Ìï¥Ï£ºÏóàÎã§.  
  Ï∞æÏßÄ Î™ªÌñàÏúºÎ©¥ ÎßàÏßÄÎßâÏóê 0ÏùÑ Ï∂úÎ†•ÌïòÍ≥† ÎÅùÎÇúÎã§.   


![06]({{site.baseurl}}/assets/img/100306.PNG)
ÏãúÎÆ¨Î†àÏù¥ÏÖò Î¨∏Ï†ú ÎãµÍ≤å ÎáåÍ∞Ä ÎßêÎûëÎßêÎûëÌï¥ÏßÄÎäî Î¨∏Ï†ú ÏòÄÎçòÍ±∞ Í∞ôÎã§..  


### ÏΩîÎìú
```kotlin
import java.util.ArrayDeque

fun main() {    // üòÅüòä
    data class Position(var x: Int, var y: Int, var cnt: Int, var garo: Int)    //1Í∞ÄÎ°ú,2ÏÑ∏Î°ú

    val br = System.`in`.bufferedReader()
    val bw = System.out.bufferedWriter()
    val n = br.readLine().toInt()
    val arr = Array(n) { CharArray(n) }
    val visited = Array(n) { IntArray(n) }  // 0Î∞©Î¨∏ÏïàÌï®, 1Í∞ÄÎ°úÎ°ú Î∞©Î¨∏Ìï®,2 ÏÑ∏Î°úÎ°úÎ∞©Î¨∏Ìï®, 3ÎëòÎã§ Î∞©Î¨∏
    val dx = intArrayOf(-1, 1, 0, 0)
    val dy = intArrayOf(0, 0, -1, 1)
    val dq = ArrayDeque<Position>()
    val g = arrayListOf<Pair<Int, Int>>()
    val s = arrayListOf<Pair<Int, Int>>()
    var check = false
    for (i in 0 until n) {  // ÏúÑÏπò ÌååÏïÖ
        val x = br.readLine()
        for (j in 0 until n) {
            if (x[j] == 'B') {
                g.add(Pair(i, j))
                arr[i][j] = '0'
            } else if (x[j] == 'E') {
                s.add(Pair(i, j))
                arr[i][j] = '0'
            } else arr[i][j] = x[j]
        }
    }
    // Í∞ÄÎ°ú,ÏÑ∏Î°ú ÌååÏïÖ
    if (g[0].first == g[1].first) {
        visited[g[1].first][g[1].second] = 1
        dq.addLast(Position(g[1].first, g[1].second, 0, 1))
    } else {
        visited[g[1].first][g[1].second] = 2
        dq.addLast(Position(g[1].first, g[1].second, 0, 2))
    }

    val goal = if (s[0].first == s[1].first)
        Position(s[1].first, s[1].second, 0, 1)
    else
        Position(s[1].first, s[1].second, 0, 2)

    fun turnCheck(x: Int, y: Int): Boolean {
        for (i in x - 1..x + 1)
            for (j in y - 1..y + 1)
                if (arr[i][j] == '1')
                    return false
        return true
    }

    while (dq.isNotEmpty()) {
        val v = dq.removeFirst()
        for (i in 0 until 4) {
            val nextX = v.x + dx[i]
            val nextY = v.y + dy[i]
            if (v.garo == 1) {  //Í∞ÄÎ°ú
                if (nextY !in 1 until n - 1 || nextX !in 0 until n) continue
                else if ((i == 0 || i == 1) && (arr[nextX][nextY - 1] == '1' || arr[nextX][nextY] == '1' || arr[nextX][nextY + 1] == '1')) continue
                else if ((i == 2 && arr[nextX][nextY - 1] == '1')||(i == 3 && arr[nextX][nextY + 1] == '1')) continue
                else if (visited[nextX][nextY] == 0 || visited[nextX][nextY] == 2) {
                    if (goal.x == nextX && goal.y == nextY && goal.garo == 1) {
                        bw.write("${v.cnt + 1}")
                        bw.close()
                        return
                    }
                    visited[nextX][nextY]++ // 0Ïù¥Î©¥ 1, 2Î©¥ 3
                    dq.addLast(Position(nextX, nextY, v.cnt + 1, 1))
                }
            } else {    //ÏÑ∏Î°ú
                if (nextX !in 1 until n - 1 || nextY !in 0 until n) continue
                else if ((i == 0 && arr[nextX-1][nextY] == '1')||(i == 1 && arr[nextX+1][nextY] == '1')) continue
                else if ((i == 2 || i == 3) && (arr[nextX-1][nextY] == '1' || arr[nextX][nextY] == '1' || arr[nextX+1][nextY] == '1')) continue
                else if (visited[nextX][nextY] == 0 || visited[nextX][nextY] == 1) {
                    if (goal.x == nextX && goal.y == nextY && goal.garo == 2) {
                        bw.write("${v.cnt + 1}")
                        bw.close()
                        return
                    }
                    visited[nextX][nextY] += 2  // 0Ïù¥Î©¥ 2, 1Ïù¥Î©¥ 3
                    dq.addLast(Position(nextX, nextY, v.cnt + 1, 2))
                }
            }
        }

        if (v.garo == 1 && v.x != 0 && v.x + 1 != n && turnCheck(v.x, v.y)) {
            if (goal.x == v.x && goal.y == v.y && goal.garo == 1) {
                bw.write("${v.cnt + 1}")
                bw.close()
                return
            } else if (visited[v.x][v.y] != 2 && visited[v.x][v.y] != 3) {
                visited[v.x][v.y] += 2
                dq.addLast(Position(v.x, v.y, v.cnt + 1, 2))
            }
        } else if (v.garo == 2 && v.y != 0 && v.y + 1 != n && turnCheck(v.x, v.y)) {
            if (goal.x == v.x && goal.y == v.y && goal.garo == 2) {
                bw.write("${v.cnt + 1}")
                bw.close()
                return
            } else if (visited[v.x][v.y] != 1 && visited[v.x][v.y] != 3) {
                visited[v.x][v.y]++
                dq.addLast(Position(v.x, v.y, v.cnt + 1, 1))
            }
        }
    }
    bw.write("0")
    bw.close()
    br.close()
}
```