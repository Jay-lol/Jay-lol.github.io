---
layout: post
title: í†µë‚˜ë¬´ ì˜®ê¸°ê¸°
date: '2020-09-20 13:30:00 +0900'
description: null
img: bglogo.png
tags:
  - Algorithm
---

# [ë°±ì¤€] í†µë‚˜ë¬´ ì˜®ê¸°ê¸° -Kotliní’€ì´

<a href="https://www.acmicpc.net/problem/1938" target="_blank">https://www.acmicpc.net/problem/1938</a>

## í†µë‚˜ë¬´ ì˜®ê¸°ê¸°

### ë¬¸ì œ ì„¤ëª…
![01]({{site.baseurl}}/assets/img/100301.PNG)
![02]({{site.baseurl}}/assets/img/100302.PNG)
![03]({{site.baseurl}}/assets/img/100303.PNG)


### ì…ë ¥
ì²«ì§¸ ì¤„ì— ì£¼ì–´ì§„ í‰ì§€ì˜ í•œ ë³€ì˜ ê¸¸ì´ Nì´ ì£¼ì–´ì§„ë‹¤ (4<=N<=50).  
ì´ì–´ì„œ ê·¸ ì§€í˜•ì˜ ì •ë³´ê°€ 0, 1, B, Eë¡œ ì´ë£¨ì–´ì§„ ë¬¸ìì—´ë¡œ ì£¼ì–´ì§„ë‹¤.  
í•œ ì¤„ì— ì…ë ¥ë˜ëŠ” ë¬¸ìì—´ì˜ ê¸¸ì´ëŠ” Nì´ë©° ì…ë ¥ ë¬¸ì ì‚¬ì´ì—ëŠ” ë¹ˆì¹¸ì´ ì—†ë‹¤. í†µë‚˜ë¬´ì™€ ìµœì¢… ìœ„ì¹˜ì˜ ê°œìˆ˜ëŠ” 1ê°œì´ë‹¤.

### ì¶œë ¥

ì²«ì§¸ ì¤„ì— ìµœì†Œ ë™ì‘ íšŸìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤. ì´ë™ì´ ë¶ˆê°€ëŠ¥í•˜ë©´ 0ë§Œì„ ì¶œë ¥í•œë‹¤.

### ì…ì¶œë ¥ì˜ˆ  
![04]({{site.baseurl}}/assets/img/100304.PNG)
![05]({{site.baseurl}}/assets/img/100305.PNG)

### í’€ì´
ê³¨ë“œ3 ë‚œì´ë„ë¥¼ ê°€ì§„ ë¬¸ì œë¡œ BFS, ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œë‹¤.  
BFSíƒìƒ‰ ë¬¸ì œë¥¼ í’€ ë•Œ ì¤‘ìš”í•œ ê²ƒì´ ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì§€ê³  íƒìƒ‰í•  ê²ƒì¸ê°€ ì´ë‹¤.  
í†µë‚˜ë¬´ì˜ ê¸¸ì´ê°€ 3ì´ë¼ì„œ 3ê°œì˜ ì¢Œí‘œë¥¼ ê°€ì§€ê³  íƒìƒ‰í•  ìˆ˜ ë„ ìˆëŠ”ë°, ë‚˜ëŠ” ê·¸ ì¤‘ì— ì¤‘ì‹¬ì  ì¢Œí‘œë§Œ ê°€ì§€ê³  íƒìƒ‰í–ˆë‹¤.  
ë˜ ì´ ë¬¸ì œì—ì„œëŠ” ê°€ë¡œ,ì„¸ë¡œë¡œ ëŒë¦¬ëŠ” ê²½ìš°ë„ ìˆê¸° ë•Œë¬¸ì— ê°€ë¡œì¸ì§€ ì„¸ë¡œì¸ì§€ ê·¸ ìƒíƒœë¥¼ ì €ì¥ë„ í•´ì£¼ì–´ì•¼ í•œë‹¤.  
ê·¸ë¦¬ê³  ì„¸ë¡œë¡œ íŠ¹ì •ì¢Œí‘œë¥¼ ë°©ë¬¸í–ˆì–´ë„, ê°€ë¡œë¡œë„ í•œë²ˆ ë” ë°©ë¬¸í•  ìˆ˜ ìˆê²Œ ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼í•œë‹¤.  
ë‚˜ëŠ” visitedë°°ì—´ì— 0,1,2,3 ì˜ ìˆ«ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ì²˜ë¦¬í–ˆë‹¤.  
ê·¸ë˜ì„œ Position ë°ì´í„° í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì¤‘ì‹¬ì ì˜ ì¢Œí‘œ, ëª‡ë²ˆ ì´ë™ í–ˆëŠ”ì§€, ê·¸ë¦¬ê³  ê°€ë¡œì¸ì§€ ì„¸ë¡œì¸ì§€ë¥¼ 1,2ë¡œ í‘œí˜„í•˜ê³  íì— ë‹´ì•„ íƒìƒ‰í–ˆë‹¤.
  
  
ë‚˜ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ íë¦„ì„ ê°€ì§„ë‹¤.

1. ì…ë ¥ì„ ë°›ìœ¼ë©´ì„œ í†µë‚˜ë¬´ì˜ ìœ„ì¹˜ì™€ ë„ì°©ì§€ì ì˜ ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ê³  ê°€ë¡œì¸ì§€ ì„¸ë¡œì¸ì§€ë¥¼ íŒŒì•…í•´ì¤€ë‹¤.  
 (xê°’ì´ ê°™ìœ¼ë©´ ê°€ë¡œë¼ê³  íŒë‹¨í–ˆë‹¤) 
 
2. í¬ê²Œ ê°€ë¡œì™€ ì„¸ë¡œë¡œ ë‚˜ëˆ„ê³  ìƒí•˜ì¢Œìš° 4ë²ˆì˜ ì´ë™ì´ ê°€ëŠ¥í•œì§€ ë³´ê³  ì´ë™ì‹œí‚¨ë‹¤.  
 ê°„ë‹¨í•˜ê²Œ í•˜ëŠ”ë²•ì€ ì—†ê³  ì¼ì¼ì´ ë‹¤ ì½”ë“œë¥¼ ì§œì•¼í•˜ëŠ” ê²ƒ ê°™ë‹¤.  

3. ê°€ë¡œì¼ ê²½ìš° Yì¢Œí‘œê°€, ì„¸ë¡œì¼ ê²½ìš° Xì¢Œí‘œê°€ 1 ê³¼ n-2 ì‚¬ì´ì— ìˆì–´ì•¼í•œë‹¤.  
    ê°€ë¡œ ìƒíƒœì¼ ê²½ìš° Yì¢Œí‘œ(ì¤‘ì‹¬ì ì˜ ì¢Œí‘œ)ê°€ 0ì´ë©´ ì¤‘ì‹¬ì ìœ¼ë¡œ ë¶€í„° ì™¼ìª½ì— ìˆëŠ” ì¢Œí‘œëŠ” -1ì´ ë˜ë²„ë¦¬ê¸° ë•Œë¬¸ì´ë‹¤.  

4. ì´ë™í•˜ë ¤ëŠ” ê³³ì— 1ì´ ì—†ì–´ì•¼í•œë‹¤. ì´ ë•Œ ìƒí•˜,  ì¢Œìš°ë¥¼ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•´ì•¼í•œë‹¤.  
  ê°€ë¡œ ìƒíƒœì¼ ê²½ìš° ìœ„ë¡œ ì´ë™í•  ë•ŒëŠ” ì¢Œí‘œ 3ê°œë¥¼ ë´ì•¼í•˜ê³ , ì¢Œë¡œ ì´ë™í•˜ë©´ ì¢Œí‘œ 1ê°œë¥¼ ë´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.  
  
5. ì´ë™í•˜ë ¤ëŠ” ì§€ì ì„ ê°™ì€ ìƒíƒœë¡œ íƒìƒ‰ í•˜ì§€ ì•Šì•˜ì–´ì•¼ í•œë‹¤(ê°€ë¡œ, ì„¸ë¡œ).  
  0ì´ë©´ ë°©ë¬¸ì„ ì•ˆí•œ ìƒíƒœë¼ ê°€ë¡œ,ì„¸ë¡œ ë‹¤ íƒìƒ‰ ê°€ëŠ¥í•˜ë‹¤.  
  1ì´ë©´ ê°€ë¡œë¡œ íƒìƒ‰í–ˆë‹¤ëŠ” ëœ»ìœ¼ë¡œ ì„¸ë¡œë¡œ íƒìƒ‰ ê°€ëŠ¥í•˜ë‹¤.  
  2ì´ë©´ ì„¸ë¡œë¡œ íƒìƒ‰í–ˆë‹¤ëŠ” ëœ»ìœ¼ë¡œ ê°€ë¡œë¡œ íƒìƒ‰ ê°€ëŠ¥í•˜ë‹¤.    
  3ì´ë©´ ê°€ë¡œ,ì„¸ë¡œë¡œ ë‹¤ íƒìƒ‰í–ˆê¸° ë•Œë¬¸ì— ë” ì´ìƒ íƒìƒ‰ì„ ì•ˆí•´ë„ ëœë‹¤.

6. íƒìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤ë©´ í•´ë‹¹ ì§€ì ì„ íƒìƒ‰í–ˆë‹¤ê³  ì²˜ë¦¬í•˜ê³  íì— ë„£ëŠ”ë‹¤.  
  0ì´ë©´ 1 ë˜ëŠ” 2ë¡œ, 1 ë˜ëŠ” 2ë©´ 3ìœ¼ë¡œ ë°”ê¾¸ì–´ì¤€ë‹¤.

7. turnCheck í•¨ìˆ˜ë¥¼ í†µí•´ íšŒì „ì´ ê°€ëŠ¥í•œì§€ ì²´í¬í•´ì¤€ë‹¤( ì¤‘ì‹¬ì  ê¸°ì¤€ìœ¼ë¡œ 3X3ì˜ì—­ì— 1ì´ ì—†ëŠ”ì§€).  
    ë²”ìœ„ ì²´í¬ì™€ íƒìƒ‰ ì—¬ë¶€ë¥¼ í™•ì¸í•´ì£¼ê³  íƒìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤ë©´ íì— ë„£ëŠ”ë‹¤. 

8. íì— ë„£ì„ë•Œ ëª©í‘œì§€ì ì¸ goalê³¼ ì¤‘ì‹¬ì ì¢Œí‘œì™€ ê°€ë¡œ,ì„¸ë¡œì˜ ìƒíƒœê°€ ê°™ìœ¼ë©´ ì¶œë ¥í•˜ê³  return í•´ì£¼ì—ˆë‹¤.  
  ì°¾ì§€ ëª»í–ˆìœ¼ë©´ ë§ˆì§€ë§‰ì— 0ì„ ì¶œë ¥í•˜ê³  ëë‚œë‹¤.   


![06]({{site.baseurl}}/assets/img/100306.PNG)
ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œ ë‹µê²Œ ë‡Œê°€ ë§ë‘ë§ë‘í•´ì§€ëŠ” ë¬¸ì œ ì˜€ë˜ê±° ê°™ë‹¤..  
í’€ê³  ë³´ë‹ˆê¹Œ ì½”í‹€ë¦°ìœ¼ë¡œëŠ” ë”± í•œë¶„ë§Œ ì´ ë¬¸ì œë¥¼ í’€ì–´ë†“ìœ¼ì…¨ë‹¤.  
 ì½”ë“œ ê¸¸ì´ê°€ 2ë°°ì •ë„ ì§§ì•„ì„œ ì½”ë“œ êµ¬ê²½ì„ í•˜ê³  setì˜ í™œìš© ê·¸ë¦¬ê³  ë²”ìœ„ë¥¼ ì²´í¬í•˜ëŠ” ìŠ¤í‚¬?ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.   
 <a href="https://www.acmicpc.net/problem/status/1938/69/1" target="_blank">tn*****21</a>ë‹˜ì˜ ì½”ë“œë¥¼ ì°¸ê³ í•œ ì½”ë“œëŠ” ë§¨ ë°‘  "í¼ì¹˜ê¸°"ì— ìˆë‹¤.  
 ì‹œê°„ì€ ì¡°ê¸ˆ ë” ê±¸ë¦¬ì§€ë§Œ ê°€ë…ì„±ë©´ì—ì„œ í›¨ì”¬ ì¢‹ë‹¤!! ë‹µì„ ì›í•˜ì‹œëŠ” ë¶„ë“¤ì€ ê·¸ ì½”ë“œë¥¼ ë³´ë©´ ë” ì¢‹ì„ê±° ê°™ë‹¤.


### ì½”ë“œ
```kotlin
import java.util.ArrayDeque

fun main() {    // ğŸ˜ğŸ˜Š
    data class Position(var x: Int, var y: Int, var cnt: Int, var garo: Int)    //1ê°€ë¡œ,2ì„¸ë¡œ

    val br = System.`in`.bufferedReader()
    val bw = System.out.bufferedWriter()
    val n = br.readLine().toInt()
    val arr = Array(n) { CharArray(n) }
    val visited = Array(n) { IntArray(n) }  // 0ë°©ë¬¸ì•ˆí•¨, 1ê°€ë¡œë¡œ ë°©ë¬¸í•¨,2 ì„¸ë¡œë¡œë°©ë¬¸í•¨, 3ë‘˜ë‹¤ ë°©ë¬¸
    val dx = intArrayOf(-1, 1, 0, 0)
    val dy = intArrayOf(0, 0, -1, 1)
    val dq = ArrayDeque<Position>()
    val g = arrayListOf<Pair<Int, Int>>()
    val s = arrayListOf<Pair<Int, Int>>()

    for (i in 0 until n) {  // ìœ„ì¹˜ íŒŒì•…
        val x = br.readLine()
        for (j in 0 until n) {
            if (x[j] == 'B') {
                g.add(Pair(i, j))
                arr[i][j] = '0'
            } else if (x[j] == 'E') {
                s.add(Pair(i, j))
                arr[i][j] = '0'
            } else arr[i][j] = x[j]
        }
    }
    // ê°€ë¡œ,ì„¸ë¡œ íŒŒì•…
    if (g[0].first == g[1].first) {
        visited[g[1].first][g[1].second] = 1
        dq.addLast(Position(g[1].first, g[1].second, 0, 1))
    } else {
        visited[g[1].first][g[1].second] = 2
        dq.addLast(Position(g[1].first, g[1].second, 0, 2))
    }

    val goal = if (s[0].first == s[1].first)
        Position(s[1].first, s[1].second, 0, 1)
    else
        Position(s[1].first, s[1].second, 0, 2)

    fun turnCheck(x: Int, y: Int): Boolean {
        for (i in x - 1..x + 1)
            for (j in y - 1..y + 1)
                if (arr[i][j] == '1')
                    return false
        return true
    }

    while (dq.isNotEmpty()) {
        val v = dq.removeFirst()
        for (i in 0 until 4) {
            val nextX = v.x + dx[i]
            val nextY = v.y + dy[i]
            if (v.garo == 1) {  //ê°€ë¡œ
                if (nextY !in 1 until n - 1 || nextX !in 0 until n) continue
                else if ((i == 0 || i == 1) && (arr[nextX][nextY - 1] == '1' || arr[nextX][nextY] == '1' || arr[nextX][nextY + 1] == '1')) continue
                else if ((i == 2 && arr[nextX][nextY - 1] == '1')||(i == 3 && arr[nextX][nextY + 1] == '1')) continue
                else if (visited[nextX][nextY] == 0 || visited[nextX][nextY] == 2) {
                    if (goal.x == nextX && goal.y == nextY && goal.garo == 1) {
                        bw.write("${v.cnt + 1}")
                        bw.close()
                        return
                    }
                    visited[nextX][nextY]++ // 0ì´ë©´ 1, 2ë©´ 3
                    dq.addLast(Position(nextX, nextY, v.cnt + 1, 1))
                }
            } else {    //ì„¸ë¡œ
                if (nextX !in 1 until n - 1 || nextY !in 0 until n) continue
                else if ((i == 0 && arr[nextX-1][nextY] == '1')||(i == 1 && arr[nextX+1][nextY] == '1')) continue
                else if ((i == 2 || i == 3) && (arr[nextX-1][nextY] == '1' || arr[nextX][nextY] == '1' || arr[nextX+1][nextY] == '1')) continue
                else if (visited[nextX][nextY] == 0 || visited[nextX][nextY] == 1) {
                    if (goal.x == nextX && goal.y == nextY && goal.garo == 2) {
                        bw.write("${v.cnt + 1}")
                        bw.close()
                        return
                    }
                    visited[nextX][nextY] += 2  // 0ì´ë©´ 2, 1ì´ë©´ 3
                    dq.addLast(Position(nextX, nextY, v.cnt + 1, 2))
                }
            }
        }

        if (v.garo == 1 && v.x != 0 && v.x + 1 != n && turnCheck(v.x, v.y)) {
            if (goal.x == v.x && goal.y == v.y && goal.garo == 1) {
                bw.write("${v.cnt + 1}")
                bw.close()
                return
            } else if (visited[v.x][v.y] != 2 && visited[v.x][v.y] != 3) {
                visited[v.x][v.y] += 2
                dq.addLast(Position(v.x, v.y, v.cnt + 1, 2))
            }
        } else if (v.garo == 2 && v.y != 0 && v.y + 1 != n && turnCheck(v.x, v.y)) {
            if (goal.x == v.x && goal.y == v.y && goal.garo == 2) {
                bw.write("${v.cnt + 1}")
                bw.close()
                return
            } else if (visited[v.x][v.y] != 1 && visited[v.x][v.y] != 3) {
                visited[v.x][v.y]++
                dq.addLast(Position(v.x, v.y, v.cnt + 1, 1))
            }
        }
    }
    bw.write("0")
    bw.close()
    br.close()
}
```
<br>
<details>
<summary>í¼ì¹˜ê¸°/ì ‘ê¸° ë²„íŠ¼</summary>
<div markdown="1">

```kotlin
import java.util.ArrayDeque

fun main() {    // ğŸ˜ğŸ˜Š
    data class Position(var x: Int, var y: Int, var cnt: Int, var garo: Int)    //0ê°€ë¡œ,1ì„¸ë¡œ

    val br = System.`in`.bufferedReader()
    val bw = System.out.bufferedWriter()
    val n = br.readLine().toInt()
    val arr = Array(n) { br.readLine() }
    val visited = List(2) { Array(n) { BooleanArray(n) } }  // *[ê°€ë¡œì„¸ë¡œ][x][y]ë¡œ êµ¬í˜„
    val dq = ArrayDeque<Position>()
    var start = Position(0, 0, 0, 0)
    var goal = Position(0, 0, 0, 0)
    var find = false

    for (i in 0 until n) {  // *setOfë¡œ ê°€ë¡œ ì„¸ë¡œë¥¼ íŒë³„
        for (j in 0 until n) {
            if (j in 1 until n - 1 && setOf(arr[i][j - 1], arr[i][j], arr[i][j + 1]) == setOf('B'))
                start = Position(i, j, 0, 0)
            if (i in 1 until n - 1 && setOf(arr[i - 1][j], arr[i][j], arr[i + 1][j]) == setOf('B'))
                start = Position(i, j, 0, 1)
            if (j in 1 until n - 1 && setOf(arr[i][j - 1], arr[i][j], arr[i][j + 1]) == setOf('E'))
                goal = Position(i, j, 0, 0)
            if (i in 1 until n - 1 && setOf(arr[i - 1][j], arr[i][j], arr[i + 1][j]) == setOf('E'))
                goal = Position(i, j, 0, 1)
        }
    }

    fun moveCheck(xr: IntRange, yr: IntRange) = //*IntRangeë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ í™œìš©í•˜ì—¬ ì´ë™ê°€ëŠ¥í•œì§€ íŒë‹¨
            xr.all { x -> yr.all { y -> x in 0 until n && y in 0 until n && arr[x][y] != '1' } }

    fun doNext(x: Int, y: Int, cnt: Int, garo: Int, xRange: IntRange, yRange: IntRange) {
        if (moveCheck(xRange, yRange) && !visited[garo][x][y]) {    // *3ì°¨ì›ë°°ì—´ë¡œ íƒìƒ‰ ê°€ëŠ¥ ì—¬ë¶€ íŒë‹¨
            if (goal.x == x && goal.y == y && goal.garo == garo) {
                bw.write("$cnt")
                find = true
            }
            visited[garo][x][y] = true
            dq.addLast(Position(x, y, cnt, garo))
        }
    }

    visited[start.garo][start.x][start.y] = true
    dq.addLast(start)

    while (dq.isNotEmpty()) {
        val v = dq.removeFirst()
        if (v.garo == 0) {  // ê°€ë¡œ ì„¸ë¡œë¥¼ ë‚˜ëˆ ì„œ ì¤‘ì‹¬ì¢Œí‘œë¥¼ ë„˜ê¸°ê³ , 1ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ë¥¼ íŒë‹¨í•  x,yì˜ ë²”ìœ„ë¥¼ ë„˜ê²¨ì¤€ë‹¤.
            doNext(v.x - 1, v.y, v.cnt + 1, 0, v.x - 1..v.x - 1, v.y - 1..v.y + 1)
            doNext(v.x + 1, v.y, v.cnt + 1, 0, v.x + 1..v.x + 1, v.y - 1..v.y + 1)
            doNext(v.x, v.y - 1, v.cnt + 1, 0, v.x..v.x, v.y - 2..v.y - 2)
            doNext(v.x, v.y + 1, v.cnt + 1, 0, v.x..v.x, v.y + 2..v.y + 2)
            doNext(v.x, v.y, v.cnt + 1, 1, v.x - 1..v.x + 1, v.y - 1..v.y + 1)
        } else {
            doNext(v.x - 1, v.y, v.cnt + 1, 1, v.x - 2..v.x - 2, v.y..v.y)
            doNext(v.x + 1, v.y, v.cnt + 1, 1, v.x + 2..v.x + 2, v.y..v.y)
            doNext(v.x, v.y - 1, v.cnt + 1, 1, v.x - 1..v.x + 1, v.y - 1..v.y - 1)
            doNext(v.x, v.y + 1, v.cnt + 1, 1, v.x - 1..v.x + 1, v.y + 1..v.y + 1)
            doNext(v.x, v.y, v.cnt + 1, 0, v.x - 1..v.x + 1, v.y - 1..v.y + 1)
        }
        if (find) break
    }
    if (!find) bw.write("0")
    bw.close()
    br.close()
}
```
</div>
</details>
<br>